"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[579],{8555:function(n,e,t){var o=t(1061),i={createToDo:function(n){return o.Z.post("/todos/test",n)},getToDo:function(){return o.Z.get("/todos")},deleteTodo:function(n){var e=n.seq;return o.Z.post("/todos/remove",{seq:e})},detailTodo:function(n){return o.Z.get("/todos/".concat(n))},updateTodo:function(n,e){var t=e.data;return o.Z.put("/todos/".concat(n),t)},postTodo:function(n){return o.Z.post("/todos/image",n,{})},getTodoImage:function(n){return o.Z.get("/todos/image/".concat(n))}};e.Z=i},8579:function(n,e,t){t.r(e),t.d(e,{default:function(){return q}});var o,i=t(4942),r=t(4165),a=t(1413),c=t(5861),d=t(9439),l=t(8348),s=t(4087),u=t(1087),p=t(7526),f=t(2791),x=t(8555),h=t(3321),m=t(9671),g=t(9457),b=t(7705),v=t(4090),Z=t(7496),j=t(7697),w=t(3578),y=t(3306),C=t(9126),S=t(168),k=t(8789).ZP.div(o||(o=(0,S.Z)(['\n  & > div.filebox label {\n    display: inline-block;\n    padding: 0.5em 0.75em;\n    color: #fff;\n    font-size: inherit;\n    line-height: normal;\n    vertical-align: middle;\n\n    cursor: pointer;\n    border: 1px solid #ebebeb;\n    border-bottom-color: #e2e2e2;\n    border-radius: 0.25em;\n    background-color: #5cb85c;\n    border-color: #4cae4c;\n  }\n  & > div.filebox input[type="file"] {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    margin: -1px;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    border: 0;\n  }\n']))),D=t(184),T=function(n){var e=n.title,t=n.value,o=n.isOpen,i=n.modalStatus,r=n.change,a=(n.action,n.onOpen),c=n.onClose,d=n.formAction,l=n.fileChange;return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(C.Dwu,{size:"30px",color:"rgb(64 189 68)",onClick:function(){a("")}}),(0,D.jsxs)(h.u_,{blockScrollOnMount:!1,isOpen:o,onClose:c,children:[(0,D.jsx)(m.Z,{}),(0,D.jsxs)(g.h,{children:[(0,D.jsx)(b.x,{children:e}),(0,D.jsx)(v.o,{}),i?(0,D.jsx)(Z.f,{children:"\uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"}):(0,D.jsxs)(Z.f,{children:[(0,D.jsx)("form",{onSubmit:d,children:(0,D.jsx)(k,{children:(0,D.jsxs)("div",{className:"form-group filebox",children:[(0,D.jsx)("label",{htmlFor:"img_file",children:"\uc5c5\ub85c\ub4dc"}),(0,D.jsx)("input",{id:"img_file",type:"file",onChange:l})]})})}),(0,D.jsx)(j.I,{mt:"10px",value:t.title,onChange:function(n){r(n,"title")},mb:"10px",placeholder:"\uc81c\ubaa9"}),(0,D.jsx)(j.I,{value:t.content,onChange:function(n){r(n,"content")},placeholder:"\ub0b4\uc6a9"})]}),(0,D.jsxs)(w.m,{children:[(0,D.jsx)(y.z,{colorScheme:"blue",mr:3,onClick:d,children:"\uc800\uc7a5"}),(0,D.jsx)(y.z,{colorScheme:"red",onClick:c,children:"\ucde8\uc18c"})]})]})]})]})},_=t(5661),O=t(1417),q=function(){var n=(0,l.q)(),e=n.isOpen,t=n.onOpen,o=n.onClose,h=(0,f.useState)(!1),m=(0,d.Z)(h,2),g=m[0],b=m[1],v=(0,f.useState)(""),Z=(0,d.Z)(v,2),j=Z[0],w=Z[1],y=(0,f.useState)(),C=(0,d.Z)(y,2),S=C[0],k=C[1],q=(0,f.useState)({title:"",content:""}),F=(0,d.Z)(q,2),z=F[0],U=F[1],V=(0,f.useState)([{title:"",content:"",_id:"",updatedAt:"",createdAt:"",seq:""}]),A=(0,d.Z)(V,2),I=A[0],M=A[1],P={handleChange:function(n){null!==n.target.files&&k({img:n.target.files[0]})},handleSubmit:function(){var n=(0,c.Z)((0,r.Z)().mark((function n(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),t=new FormData,void 0!==S&&t.append("img",S.img),t.append("title",z.title),t.append("content",z.content),""!==z.title){n.next=7;break}return n.abrupt("return",(0,_.vU)("\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694"));case 7:if(""!==z.content){n.next=9;break}return n.abrupt("return",(0,_.vU)("\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694"));case 9:return n.next=11,x.Z.postTodo(t).then((function(n){console.log(n),(0,_.Vp)("\uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4"),U((function(n){return(0,a.Z)((0,a.Z)({},n),{},{title:"",content:""})}))})).catch((function(n){console.log(n.response)}));case 11:o();case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},N={handleChange:function(n,e){U((function(t){return(0,a.Z)((0,a.Z)({},t),{},(0,i.Z)({},e,n.target.value))}))},handleClick:function(){var n=(0,c.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.Z.createToDo(z).then((function(n){(0,_.Vp)("\uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4")})).catch((function(n){(0,_.vU)(n.response.data.details)}));case 2:o();case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()},W={getData:function(){var n=(0,c.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.Z.getToDo().then((function(n){M(n.data.data)})).catch((function(n){}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),deleteData:function(){var n=(0,c.Z)((0,r.Z)().mark((function n(){var e;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e={seq:j},n.next=3,x.Z.deleteTodo(e).then((function(n){(0,_.Vp)("\uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4")})).catch((function(n){console.log(n.response.data)}));case 3:o();case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()},R=function(n){b("delete"===n),t()};return(0,f.useEffect)((function(){W.getData()}),[e]),(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(s.xu,{p:(0,O.S)()?"20px 20px":"20px 40px",maxWidth:(0,O.S)()?"":"550px",m:(0,O.S)()?"":"0 auto",children:(0,D.jsxs)(s.xu,{border:" 1px solid #d1d1d1",borderRadius:"5px",children:[(0,D.jsx)(p.W2,{children:(0,D.jsx)("ul",{children:I.map((function(n){return(0,D.jsx)("li",{children:(0,D.jsxs)(p.aV,{children:[(0,D.jsx)(u.rU,{to:"/todolist/".concat(n._id),children:(0,D.jsx)("p",{children:n.content})}),(0,D.jsx)("button",{onClick:function(){w(n.seq),R("delete")},children:"\uc0ad\uc81c"})]})},n._id)}))})}),(0,D.jsx)(s.xu,{display:"flex",p:" 0 20px 20px 20px",children:(0,D.jsx)(T,{title:g?"\uc0ad\uc81c":"\ucd94\uac00",isOpen:e,onOpen:R,onClose:o,change:N.handleChange,action:g?W.deleteData:N.handleClick,value:z,modalStatus:g,formAction:g?W.deleteData:P.handleSubmit,fileChange:P.handleChange})})]})}),(0,D.jsx)(_.FN,{})]})}},7526:function(n,e,t){t.d(e,{Mv:function(){return s},W2:function(){return d},aV:function(){return l}});var o,i,r,a=t(168),c=t(8789),d=c.ZP.div(o||(o=(0,a.Z)(['\n  font-family: "bsfont-r";\n  margin: 0;\n  padding: 20px;\n  min-height: 450px;\n  & > ul > li {\n    border-bottom: 1px solid #bbb;\n    padding: 10px;\n  }\n']))),l=c.ZP.div(i||(i=(0,a.Z)(["\n  display: flex;\n  b\n  justify-content: space-between;\n  & > a {\n    width: 88%;\n    display: flex;\n  }\n  & > a > p {\n    padding-right: 10px;\n    width:100%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  & > button {\n    width: 12%;\n  }\n"]))),s=c.ZP.div(r||(r=(0,a.Z)(['\n  font-family: "bsfont-r";\n  margin: 0;\n  padding: 20px 20px 0 20px;\n  min-height: 200px;\n  font-size: 20px;\n  & input {\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;\n  }\n  & > div > p {\n    min-width: 35px;\n  }\n  & > div > input {\n    min-width: 50px;\n    width: 100%;\n  }\n  & > div:first-child {\n    border-bottom: 1px solid #ddd;\n    padding-bottom: 5px;\n  }\n  & > div:nth-child(2) {\n    margin-top: 10px;\n    margin-bottom: 10px;\n    border-bottom: 1px solid #ddd;\n    padding-bottom: 20px;\n  }\n  & > div > p.date {\n    text-align: right;\n    font-size: 14px;\n  }\n  & > .img_container > div {\n    display: felx;\n  }\n  & > .img_container > div > svg {\n    position: relative;\n    left: -30px;\n    min-width: 30px;\n  }\n'])))},1417:function(n,e,t){t.d(e,{S:function(){return i}});var o=t(4805),i=function(){return(0,o.useMediaQuery)({query:"(max-width:768px)"})}}}]);
//# sourceMappingURL=579.4e4d3816.chunk.js.map